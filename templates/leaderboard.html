{% extends "base.html" %}
{% block content %}
<div id="leaderboard-container">
    <h2>Leaderboard</h2>
    <div id="leaderboard">
        <!-- Leaderboard will be dynamically populated here -->
    </div>
</div>
{% endblock %}
{% block scripts %}
<script>
    // Example function to fetch leaderboard data for a specific difficulty
    function fetchLeaderboard(difficulty) {
        fetch(`/get_leaderboard/${difficulty}`)
        .then(response => {
            if (!response.ok) {
                throw new Error('Failed to fetch leaderboard');
            }
            return response.json();
        })
        .then(data => {
            if (Array.isArray(data)) {
                const leaderboardHTML = `
                    <h3>Leaderboard (${difficulty})</h3>
                    <table>
                        <tr>
                            <th>Rank</th>
                            <th>Name</th>
                            <th>Score</th>
                            <th>Date</th>
                        </tr>
                        ${data.map((score, index) => `
                            <tr>
                                <td>${index + 1}</td>
                                <td>${score.username}</td>
                                <td>${score.score}</td>
                                <td>${score.date}</td>
                            </tr>
                        `).join('')}
                    </table>
                `;
                document.getElementById('leaderboard').innerHTML = leaderboardHTML;
            } else {
                document.getElementById('leaderboard').innerHTML = '<p>Error loading leaderboard data.</p>';
            }
        })
        .catch(error => {
            console.error('Error fetching leaderboard:', error);
            document.getElementById('leaderboard').innerHTML = '<p>Error loading leaderboard.</p>';
        });
    }
    // Fetch leaderboard data when the page loads
    document.addEventListener('DOMContentLoaded', () => {
        fetchLeaderboard('easy');
    });
</script>
{% endblock %}